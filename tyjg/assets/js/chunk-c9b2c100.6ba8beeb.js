(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c9b2c100"],{1427:function(e,t,a){"use strict";var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"search-template"},[a("el-form",{ref:"form",staticClass:"form clearfix",attrs:{model:e.value,"inline-message":!1,"label-width":e.labelLength,inline:!0}},[e._l(e.listOptions,(function(t,l){return a("el-col",{key:l,attrs:{span:8}},[a("el-form-item",{attrs:{label:t.label+"：",prop:t.key}},["input"===t.type?a("el-input",{attrs:{clearable:"",placeholder:"请输入"},model:{value:e.value[t.key],callback:function(a){e.$set(e.value,t.key,a)},expression:"value[item.key]"}}):"select"===t.type&&t.list?a("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.value[t.key],callback:function(a){e.$set(e.value,t.key,a)},expression:"value[item.key]"}},e._l(t.list,(function(e){return a("el-option",{key:e[t.list_value]||e.value,attrs:{label:e[t.list_key]||e.label,value:e[t.list_value]||e.value}})}))):"city"===t.type?a("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.value[t.key],callback:function(a){e.$set(e.value,t.key,a)},expression:"value[item.key]"}},e._l(e.regionList,(function(e){return a("el-option",{key:e.regionId,attrs:{label:e.regionName,value:e.regionId}})}))):"date"===t.type?a("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":t.valueFormat||"timestamp"},model:{value:e.value[t.key],callback:function(a){e.$set(e.value,t.key,a)},expression:"value[item.key]"}}):"year"===t.type?a("el-date-picker",{attrs:{clearable:!1,editable:!1,type:"year",placeholder:"请选择","value-format":t.valueFormat||"yyyy"},model:{value:e.value[t.key],callback:function(a){e.$set(e.value,t.key,a)},expression:"value[item.key]"}}):e._e()],1)],1)})),a("el-col",{staticClass:"btns clearfix",attrs:{span:8}},[a("el-button",{attrs:{disabled:e.getDisabled},on:{click:e.query}},[e._v("查 询")]),a("el-button",{on:{click:e.reset}},[e._v("重 置")]),e.listOptions.length>2&&e.options.length>2?a("el-button",{attrs:{type:"text"},on:{click:function(t){e.listOptions=e.listOptions.slice(0,2)}}},[e._v("收起 "),a("i",{staticClass:"el-icon-arrow-up"})]):e._e(),e.listOptions.length<=2&&e.options.length>2?a("el-button",{attrs:{type:"text"},on:{click:function(t){e.listOptions=e.options}}},[e._v("展开 "),a("i",{staticClass:"el-icon-arrow-down"})]):e._e()],1)],2),e._t("default")],2)},i=[],r=(a("6d57"),{name:"searchTemplate",props:{options:{type:Array,required:!0,default:function(){return[]}},value:{type:Object},permission:{type:String,default:function(){return""}}},data:function(){return{listOptions:[],regionList:[{regionId:"1",regionName:"小店区"},{regionId:"2",regionName:"迎泽区"},{regionId:"3",regionName:"杏花岭区"},{regionId:"4",regionName:"尖草坪区"},{regionId:"5",regionName:"万柏林区"},{regionId:"6",regionName:"晋源区"},{regionId:"7",regionName:"清徐县"},{regionId:"8",regionName:"阳曲县"},{regionId:"9",regionName:"娄烦县"},{regionId:"10",regionName:"古交市"}],labelLength:"0px"}},watch:{options:{handler:function(e){if(e){var t=JSON.parse(JSON.stringify(this.value)),a=0;e.forEach((function(e){a<e.label.length&&(a=e.label.length),e.defaultValue?t[e.key]=e.defaultValue:t[e.key]=""})),this.labelLength=14*(a+1)+5+"px",this.$emit("input",t),this.listOptions=e,this.listOptions=this.listOptions.slice(0,2)}},immediate:!0},listOptions:{handler:function(e){var t=this;this.$nextTick((function(){var e=document.querySelectorAll(".el-form-item__content");e=Array.prototype.slice.call(e),e.forEach((function(e){e.style.width="calc(100% - "+t.labelLength+")"}))}))},immediate:!0}},computed:{getDisabled:function(){return""!==this.permission&&!this.$checkAuth(this.permission)}},methods:{query:function(){this.$emit("search",this.value)},reset:function(){var e=this;this.options.forEach((function(t){t.defaultValue&&e.value[t.key]?e.value[t.key]=t.defaultValue:e.value[t.key]=""})),this.$emit("input",this.value)}}}),n=r,o=(a("e54f"),a("4023")),s=Object(o["a"])(n,l,i,!1,null,null,null);t["a"]=s.exports},"527b":function(e,t,a){t=e.exports=a("690e")(!1),t.push([e.i,".search-template{position:relative}.search-template .el-form .el-col{height:56px;-webkit-box-sizing:border-box;box-sizing:border-box}.search-template .el-form .el-col:nth-child(3n+1){padding-right:4%}.search-template .el-form .el-col:nth-child(3n+1) .el-form-item{text-align:left}.search-template .el-form .el-col:nth-child(3n - 1){padding:0 2%}.search-template .el-form .el-col:nth-child(3n - 1) .el-form-item{text-align:center}.search-template .el-form .el-col:nth-child(3n){padding-left:4%}.search-template .el-form .el-col:nth-child(3n) .el-form-item{text-align:right}.search-template .el-form .el-col .el-form-item{width:100%;margin-bottom:16px}.search-template .el-form .el-col .el-form-item .el-form-item__label{-webkit-box-sizing:border-box;box-sizing:border-box;padding-right:5px;text-align:right}.search-template .el-form .el-col .el-form-item .el-form-item__content .el-input__inner{width:100%;height:34px;line-height:34px}.search-template .el-form .el-col .el-form-item .el-form-item__content .el-select{width:100%}.search-template .el-form .el-col .el-form-item .el-form-item__content .el-date-editor{width:100%;margin-top:3px}.search-template .el-form .el-col .el-form-item .el-form-item__content .el-date-editor .el-input__icon,.search-template .el-form .el-col .el-form-item .el-form-item__content .el-date-editor .el-range-separator{line-height:32px}.search-template .el-form .btns{-webkit-box-sizing:border-box;box-sizing:border-box;text-align:left!important;margin-top:4px}",""])},"694a":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content-page"},[a("search",{attrs:{options:e.searchOption,permission:"bas:buspersonhealthreportform:findPersonHealthReportformData"},on:{search:function(t){e.getData(1)}},model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}}),a("div",{staticClass:"wrap"},[a("custom-table",{attrs:{"table-data":e.dataList,"label-data":e.labelData,total:e.total,height:630,currentPage:e.pageNum,loading:e.tableloading},on:{onPageChange:e.handleCurrentChange,onSizeChange:e.handleSizeChange},scopedSlots:e._u([{key:"leaveLocalTime",fn:function(t){return[a("span",[e._v(e._s(t.slotData.leaveLocalTime))])]}},{key:"returnLocalTime",fn:function(t){return[a("span",[e._v(e._s(t.slotData.returnLocalTime))])]}},{key:"isReturnWork",fn:function(t){return[a("span",[e._v(e._s(1===t.slotData.isReturnWork?"是":"否"))])]}},{key:"isIsolated",fn:function(t){return[a("span",[e._v(e._s(1===t.slotData.isIsolated?"是":"否"))])]}},{key:"createTime",fn:function(t){return[a("span",[e._v(e._s(t.slotData.createTime))])]}},{key:"operation",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small",disabled:!e.$checkAuth("bas:buspersonhealthreportform:findPersonHealthReportformDataDetail")},on:{click:function(a){e.$router.push("/employeesHealthFillInDetail?personHealthReportformId="+t.slotData.personHealthReportformId)}}},[e._v("详情")])]}}])})],1),a("bread-foot",{attrs:{breadArr:e.breadArr,icons:"icon-archives-normal"}})],1)},i=[],r=a("b712"),n=a("0dd2"),o=a("1427"),s=a("fa7d"),c={name:"employeesHealthFillIn",components:{BreadFoot:r["a"],CustomTable:n["a"],Search:o["a"]},data:function(){return{breadArr:[{title:"档案管理",path:""},{title:"从业人员健康数据填报",path:""}],searchOption:[{label:"企业名称",type:"input",key:"enterpriseName"},{label:"返回时间",type:"date",key:"backTime"},{label:"填报时间",type:"date",key:"writeTime"}],searchValue:{},labelData:[{label:"序号",prop:"num",width:80},{label:"姓名",prop:"personName",minWidth:"5%"},{label:"手机号码",prop:"personMobile",minWidth:"10%"},{label:"身份证号",prop:"personIdcardNumber",minWidth:"10%"},{label:"籍贯",prop:"personNativePlaceText",minWidth:"10%"},{label:"离开本地时间",slotName:"leaveLocalTime",minWidth:"10%"},{label:"返回本地时间",slotName:"returnLocalTime",minWidth:"10%"},{label:"是否已复工",slotName:"isReturnWork",minWidth:"8%"},{label:"是否隔离",slotName:"isIsolated",minWidth:"8%"},{label:"所属企业",prop:"enterpriseName",minWidth:"20%"},{label:"填报时间",slotName:"createTime",minWidth:"10%"},{label:"操作",slotName:"operation",minWidth:"5%"}],dataList:[{num:1,personName:"李强",personMobile:"13566541121",personIdcardNumber:"440154198702035412",personNativePlaceText:"山西太原",leaveLocalTime:"2020-01-18",returnLocalTime:"2020-03-20",isReturnWork:"是",isIsolated:"否",enterpriseName:"山西普洋汽车销售有限公司",createTime:"2020-04-14"},{num:2,personName:"王美丽",personMobile:"18845241121",personIdcardNumber:"440154198702035412",personNativePlaceText:"山西太原",leaveLocalTime:"2020-01-20",returnLocalTime:"2020-04-01",isReturnWork:"是",isIsolated:"否",enterpriseName:"山西智菱行汽车销售服务有限公司",createTime:"2020-04-14"}],tableloading:!1,pageNum:1,pageSize:10,total:0}},mounted:function(){this.getData()},methods:{getData:function(e){var t=this;if(this.$checkAuth("bas:buspersonhealthreportform:findPersonHealthReportformData")){e&&(this.pageNum=1);var a={pageNum:this.pageNum,pageSize:this.pageSize,enterpriseName:this.searchValue.enterpriseName};this.searchValue.backTime&&this.searchValue.backTime instanceof Array&&(a.arriveTimeStart=this.searchValue.backTime[0]||"",a.arriveTimeEnd=this.searchValue.backTime[1]+864e5-1||""),this.searchValue.writeTime&&this.searchValue.writeTime instanceof Array&&(a.writeTimeStart=this.searchValue.writeTime[0]||"",a.writeTimeEnd=this.searchValue.writeTime[1]+864e5-1||""),this.$post("bas/buspersonhealthreportform/findPersonHealthReportformData",a).then((function(e){200===e.status&&e.data&&(t.dataList=Object(s["b"])(e.data.list,t.pageNum,t.pageSize),t.total=e.data.total)}))}else this.$alert("暂无查看权限！","提示")},handleSizeChange:function(e){this.pageSize=e,this.getData(1)},handleCurrentChange:function(e){this.pageNum=e,this.getData()}}},m=c,p=a("4023"),u=Object(p["a"])(m,l,i,!1,null,null,null);t["default"]=u.exports},"813f":function(e,t,a){var l=a("527b");"string"===typeof l&&(l=[[e.i,l,""]]),l.locals&&(e.exports=l.locals);var i=a("85cb").default;i("0df55402",l,!0,{sourceMap:!1,shadowMode:!1})},e54f:function(e,t,a){"use strict";var l=a("813f"),i=a.n(l);i.a}}]);