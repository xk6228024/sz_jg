(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5752056d"],{1427:function(e,t,l){"use strict";var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"search-template"},[l("el-form",{ref:"form",staticClass:"form clearfix",attrs:{model:e.value,"inline-message":!1,"label-width":e.labelLength,inline:!0}},[e._l(e.listOptions,(function(t,a){return l("el-col",{key:a,attrs:{span:8}},[l("el-form-item",{attrs:{label:t.label+"：",prop:t.key}},["input"===t.type?l("el-input",{attrs:{clearable:"",placeholder:"请输入"},model:{value:e.value[t.key],callback:function(l){e.$set(e.value,t.key,l)},expression:"value[item.key]"}}):"select"===t.type&&t.list?l("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.value[t.key],callback:function(l){e.$set(e.value,t.key,l)},expression:"value[item.key]"}},e._l(t.list,(function(e){return l("el-option",{key:e[t.list_value]||e.value,attrs:{label:e[t.list_key]||e.label,value:e[t.list_value]||e.value}})}))):"city"===t.type?l("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.value[t.key],callback:function(l){e.$set(e.value,t.key,l)},expression:"value[item.key]"}},e._l(e.regionList,(function(e){return l("el-option",{key:e.regionId,attrs:{label:e.regionName,value:e.regionId}})}))):"date"===t.type?l("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":t.valueFormat||"timestamp"},model:{value:e.value[t.key],callback:function(l){e.$set(e.value,t.key,l)},expression:"value[item.key]"}}):"year"===t.type?l("el-date-picker",{attrs:{clearable:!1,editable:!1,type:"year",placeholder:"请选择","value-format":t.valueFormat||"yyyy"},model:{value:e.value[t.key],callback:function(l){e.$set(e.value,t.key,l)},expression:"value[item.key]"}}):e._e()],1)],1)})),l("el-col",{staticClass:"btns clearfix",attrs:{span:8}},[l("el-button",{attrs:{disabled:e.getDisabled},on:{click:e.query}},[e._v("查 询")]),l("el-button",{on:{click:e.reset}},[e._v("重 置")]),e.listOptions.length>2&&e.options.length>2?l("el-button",{attrs:{type:"text"},on:{click:function(t){e.listOptions=e.listOptions.slice(0,2)}}},[e._v("收起 "),l("i",{staticClass:"el-icon-arrow-up"})]):e._e(),e.listOptions.length<=2&&e.options.length>2?l("el-button",{attrs:{type:"text"},on:{click:function(t){e.listOptions=e.options}}},[e._v("展开 "),l("i",{staticClass:"el-icon-arrow-down"})]):e._e()],1)],2),e._t("default")],2)},r=[],i=(l("6d57"),{name:"searchTemplate",props:{options:{type:Array,required:!0,default:function(){return[]}},value:{type:Object},permission:{type:String,default:function(){return""}}},data:function(){return{listOptions:[],regionList:[{regionId:"1",regionName:"小店区"},{regionId:"2",regionName:"迎泽区"},{regionId:"3",regionName:"杏花岭区"},{regionId:"4",regionName:"尖草坪区"},{regionId:"5",regionName:"万柏林区"},{regionId:"6",regionName:"晋源区"},{regionId:"7",regionName:"清徐县"},{regionId:"8",regionName:"阳曲县"},{regionId:"9",regionName:"娄烦县"},{regionId:"10",regionName:"古交市"}],labelLength:"0px"}},watch:{options:{handler:function(e){if(e){var t=JSON.parse(JSON.stringify(this.value)),l=0;e.forEach((function(e){l<e.label.length&&(l=e.label.length),e.defaultValue?t[e.key]=e.defaultValue:t[e.key]=""})),this.labelLength=14*(l+1)+5+"px",this.$emit("input",t),this.listOptions=e,this.listOptions=this.listOptions.slice(0,2)}},immediate:!0},listOptions:{handler:function(e){var t=this;this.$nextTick((function(){var e=document.querySelectorAll(".el-form-item__content");e=Array.prototype.slice.call(e),e.forEach((function(e){e.style.width="calc(100% - "+t.labelLength+")"}))}))},immediate:!0}},computed:{getDisabled:function(){return""!==this.permission&&!this.$checkAuth(this.permission)}},methods:{query:function(){this.$emit("search",this.value)},reset:function(){var e=this;this.options.forEach((function(t){t.defaultValue&&e.value[t.key]?e.value[t.key]=t.defaultValue:e.value[t.key]=""})),this.$emit("input",this.value)}}}),o=i,n=(l("e54f"),l("4023")),s=Object(n["a"])(o,a,r,!1,null,null,null);t["a"]=s.exports},"527b":function(e,t,l){t=e.exports=l("690e")(!1),t.push([e.i,".search-template{position:relative}.search-template .el-form .el-col{height:56px;-webkit-box-sizing:border-box;box-sizing:border-box}.search-template .el-form .el-col:nth-child(3n+1){padding-right:4%}.search-template .el-form .el-col:nth-child(3n+1) .el-form-item{text-align:left}.search-template .el-form .el-col:nth-child(3n - 1){padding:0 2%}.search-template .el-form .el-col:nth-child(3n - 1) .el-form-item{text-align:center}.search-template .el-form .el-col:nth-child(3n){padding-left:4%}.search-template .el-form .el-col:nth-child(3n) .el-form-item{text-align:right}.search-template .el-form .el-col .el-form-item{width:100%;margin-bottom:16px}.search-template .el-form .el-col .el-form-item .el-form-item__label{-webkit-box-sizing:border-box;box-sizing:border-box;padding-right:5px;text-align:right}.search-template .el-form .el-col .el-form-item .el-form-item__content .el-input__inner{width:100%;height:34px;line-height:34px}.search-template .el-form .el-col .el-form-item .el-form-item__content .el-select{width:100%}.search-template .el-form .el-col .el-form-item .el-form-item__content .el-date-editor{width:100%;margin-top:3px}.search-template .el-form .el-col .el-form-item .el-form-item__content .el-date-editor .el-input__icon,.search-template .el-form .el-col .el-form-item .el-form-item__content .el-date-editor .el-range-separator{line-height:32px}.search-template .el-form .btns{-webkit-box-sizing:border-box;box-sizing:border-box;text-align:left!important;margin-top:4px}",""])},"60ed":function(e,t,l){var a=l("fee1");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var r=l("85cb").default;r("4106e042",a,!0,{sourceMap:!1,shadowMode:!1})},"813f":function(e,t,l){var a=l("527b");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var r=l("85cb").default;r("0df55402",a,!0,{sourceMap:!1,shadowMode:!1})},b53d:function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{attrs:{id:"maintenanceCertificate"}},[l("div",{staticClass:"content"},[l("search",{attrs:{options:e.searchOptions},on:{search:e.searchData},model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}}),l("custom-table",{attrs:{"table-data":e.tabelData,"label-data":e.labelData,total:e.total,height:"630",currentPage:e.pageNum,loading:e.loading},on:{onPageChange:e.handleCurrentChange,onSizeChange:e.handleSizeChange}},[l("template",{slot:"operation"},[l("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("发放合格证")]),l("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){e.recordDialog=!0}}},[e._v("发放记录")])],1)],2)],1),l("bread-foot",{attrs:{breadArr:e.breadArr,icons:"icon-archives-normal"}},[l("el-button",{attrs:{type:"primary"}},[e._v("导 出")])],1),l("el-dialog",{attrs:{title:"发放合格证",visible:e.dialogVisible,"close-on-click-modal":!1,top:"30vh",width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t},closed:e.closeDialog}},[l("el-form",{ref:"ruleForm",staticClass:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[l("el-form-item",{attrs:{label:"开始编号",prop:"start"}},[l("el-input",{attrs:{maxlength:"16"},model:{value:e.ruleForm.start,callback:function(t){e.$set(e.ruleForm,"start",e._n(t))},expression:"ruleForm.start"}})],1),l("el-form-item",{attrs:{label:"结束编号",prop:"end"}},[l("el-input",{attrs:{maxlength:"16"},model:{value:e.ruleForm.end,callback:function(t){e.$set(e.ruleForm,"end",e._n(t))},expression:"ruleForm.end"}})],1),l("el-form-item",{attrs:{label:"申领份数",prop:"total"}},[l("el-input",{attrs:{disabled:"",value:e.certificateTotal}})],1)],1),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),l("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("确 定")])],1)],1),l("el-dialog",{attrs:{title:"合格证发放记录",visible:e.recordDialog,"close-on-click-modal":!1,top:"30vh",width:"1000px"},on:{"update:visible":function(t){e.recordDialog=t}}},[l("div",[l("label",[e._v("发放年度：")]),l("el-date-picker",{attrs:{type:"year",placeholder:"选择年"},model:{value:e.recordYear,callback:function(t){e.recordYear=t},expression:"recordYear"}})],1),l("el-table",{staticStyle:{width:"100%","margin-top":"24px"},attrs:{"header-cell-style":{background:"#FAFAFA","text-align":"left"},"cell-style":{"text-align":"left"},stripe:!1,"row-class-name":"table-item","header-row-class-name":"table-header-item",data:e.recordData}},[l("el-table-column",{attrs:{prop:"num",label:"序号",width:"50"}}),l("el-table-column",{attrs:{prop:"start",label:"开始编号",width:"180"}}),l("el-table-column",{attrs:{prop:"end",label:"结束编号",width:"180"}}),l("el-table-column",{attrs:{prop:"total",label:"发放数量"}}),l("el-table-column",{attrs:{prop:"used",label:"已使用"}}),l("el-table-column",{attrs:{prop:"notused",label:"未使用数量"}}),l("el-table-column",{attrs:{prop:"person",label:"操作人"}}),l("el-table-column",{attrs:{prop:"time",label:"发放时间",width:"200"}})],1),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){e.recordDialog=!1}}},[e._v("取 消")]),l("el-button",{attrs:{type:"primary"},on:{click:function(t){e.recordDialog=!1}}},[e._v("确 定")])],1)],1)],1)},r=[],i=l("b712"),o=l("0dd2"),n=l("1427"),s={name:"inquestInfo",components:{BreadFoot:i["a"],customTable:o["a"],search:n["a"]},data:function(){return{dialogVisible:!1,recordDialog:!1,recordYear:"",recordData:[{num:1,start:"4403032020000000",end:"4403032002001000",total:"1000",used:"566",notused:"434",person:"黄鹤",time:"2020-03-23 17:14:37"},{num:2,start:"4403062020000500",end:"4403062002001000",total:"500",used:"125",notused:"375",person:"傅波",time:"2020-02-23 09:14:37"}],breadArr:[{title:"档案管理",path:""},{title:"合格证发放记录",path:""}],searchOptions:[{label:"所在区域",type:"select",key:"region",list:[{label:"万柏林区",value:"1"},{label:"清徐县",value:"2"},{label:"晋源区",value:"3"},{label:"小店区",value:"4"},{label:"尖草坪区",value:"5"}]},{label:"经营类别",type:"select",key:"type",list:[{label:"一类机动车维修",value:"1"},{label:"二类机动车维修",value:"2"},{label:"三类机动车维修",value:"3"},{label:"一类摩托车维修",value:"4"},{label:"二类摩托车维修",value:"5"},{label:"危险货物运输车辆维修",value:"6"}]},{label:"发放日期",type:"input",key:"daterange"},{label:"企业名称",type:"input",key:"enterpriseName"},{label:"合格证编号",type:"input",key:"code"}],searchValue:{},loading:!1,tabelData:[{num:1,enterpriseName:"太原市尖草坪区广聚鑫修理厂",enterpriseType:"一类维修",total:"922",used:"132",notUsed:"790"},{num:2,enterpriseName:"太原市裕龙顺达汽车销售服务有限公司",enterpriseType:"二类维修",total:"200",used:"80",notUsed:"120"},{num:3,enterpriseName:"山西盛新晋汽车维修有限公司",enterpriseType:"二类维修",total:"500",used:"322",notUsed:"188"},{num:4,enterpriseName:"太原华瑞富星汽车销售服务有限公司",enterpriseType:"一类维修",total:"400",used:"256",notUsed:"144"}],labelData:[{label:"序号",prop:"num",width:80},{label:"维修企业名称",prop:"enterpriseName"},{label:"经营类别",prop:"enterpriseType"},{label:"累计发放数量",prop:"total"},{label:"累计使用数量",prop:"used"},{label:"累计未使用数量",prop:"notUsed"},{label:"操作",slotName:"operation",width:200}],rules:{start:[{required:!0,message:"请输入开始编号",trigger:"change"},{type:"number",message:"编号必须为数字值"}],end:[{required:!0,message:"请输入结束编号",trigger:"change"},{type:"number",message:"编号必须为数字值"}]},ruleForm:{start:"",end:""},total:4,pageNum:1,pageSize:10}},computed:{certificateTotal:function(){if(isNaN(this.ruleForm.start)||isNaN(this.ruleForm.end))return"";if(!this.ruleForm.start||!this.ruleForm.end)return"";var e=this.ruleForm.start-0,t=this.ruleForm.end-0;return t-e<0?"结束编号不能小于开始编号":t-e}},created:function(){this.searchData()},methods:{searchData:function(){},handleSizeChange:function(e){this.pageSize=e,this.pageNum=1,this.searchData()},handleCurrentChange:function(e){this.pageNum=e,this.searchData()},closeDialog:function(){this.dialogVisible=!1,this.$refs.ruleForm.resetFields()},downloadTable:function(){}}},c=s,u=(l("bfc9"),l("4023")),p=Object(u["a"])(c,a,r,!1,null,null,null);t["default"]=p.exports},bfc9:function(e,t,l){"use strict";var a=l("60ed"),r=l.n(a);r.a},e54f:function(e,t,l){"use strict";var a=l("813f"),r=l.n(a);r.a},fee1:function(e,t,l){t=e.exports=l("690e")(!1),t.push([e.i,"#maintenanceCertificate{background:#fff;min-height:750px}#maintenanceCertificate .content{padding:20px 30px 80px}#maintenanceCertificate .el-input__inner{height:32px;line-height:32px}",""])}}]);