(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-75b21814"],{"0c37":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABdElEQVQ4T5XTQUtWYRAF4GciKrdtjCBoZUSFhNI2aueiP2C7QAV39T+qVSi2LegHRFZEFC3LCCJQAnERuG2nZDQx8n4ft6tf1Lu7dzhnzsycE3ovMycxj+s4i8Am3mAlIj51IVXcf5l5Avcb+EifuH3vYDIivg7q+wSZOYZVXMUulvEIX5qCC7iJlxGxmpmFOxoRewOCAizgG270ZXbVZOZJPMc4JqLN/BE/cCUiPo+QX0oL/AqXsY5LRfAAizV/RNz5R/AGrkXEdhEU0zlMR8TaYQS9zkNwZk4XQS3tOGqRP/EO25iNiN2/gGfwpE+Q7ean8QK38LTN3O1cDb/XhQ6MkJnn8RqnUHcvZUNwO/sUPtT/Q5fYI/kD3Aju4TaWRp4xMyeaK+/WtjuOvYj3OIap/zJSZhb4Gc60XCyMsvISHjcrV/Oy8mzzS2XmLWYiYqcbplpWhWkOo8L0Cw9r/gIX85CgM2PFuXIxiHOVttplDsT5N5mHur+5gvTUAAAAAElFTkSuQmCC"},"40c8":function(e,t,a){"use strict";var i=a("ea83"),n=a.n(i);n.a},7374:function(e,t,a){t=e.exports=a("690e")(!1),t.push([e.i,'.newsDetail .breadFoot{height:82px}.newsDetail .modal{z-index:99999}.newsDetail .refuse{border:1px solid #74899c;color:#74899c}.newsDetail .notice-btn .myIcon:before{top:0}.newsDetail .notice-btn .myIcon{margin-right:4px}.newsDetail .notice-btn i,.newsDetail .notice-btn span{vertical-align:middle}.newsDetail .edui-editor-breadcrumb{display:none}.newsDetail .ueditor1{display:inline-block;width:850px}.newsDetail .el-checkbox,.newsDetail .el-radio{text-align:left!important}.newsDetail .el-radio{line-height:34px;margin-left:0}.newsDetail .el-radio__label{padding-left:6px}.newsDetail .el-input__icon{line-height:34px!important}.newsDetail .el-message-box__wrapper{z-index:10001!important}.newsDetail .el-input__inner{height:34px;line-height:34px}.newsDetail .editor .w-e-toolbar{display:block}.newsDetail .editor .w-e-toolbar .w-e-menu{float:left}.newsDetail .editor .w-e-toolbar:after{display:block;clear:both;content:"";visibility:hidden;height:0}.newsDetail .editor .w-e-toolbar{zoom:1}.newsDetail .timePick .el-input__inner{width:196px}',""])},"73e1":function(e,t,a){t=e.exports=a("690e")(!1),t.push([e.i,".newsDetail[data-v-165ac523]{background-color:#fff;min-height:800px}.newsDetail .contents[data-v-165ac523]{position:relative;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;top:0;background-color:#fff;padding-bottom:80px}.newsDetail .contents .table_tap_pad[data-v-165ac523]{padding:25px 30px}.newsDetail .contents .page_top[data-v-165ac523]{height:66px;line-height:66px;padding:0 30px;font-size:14px;overflow:hidden}.newsDetail .contents .wrap[data-v-165ac523]{padding:0 30px}.newsDetail .contents .wrap .table_box[data-v-165ac523]{border:1px solid #ddd;border-bottom:none}.newsDetail .contents .wrap .page_box[data-v-165ac523]{border-top:none}.newsDetail .h10[data-v-165ac523]{height:10px}.newsDetail .model[data-v-165ac523]{padding:20px}.newsDetail .model .btn-box[data-v-165ac523]{text-align:center;margin:20px 0 20px 0}.newsDetail .model .btn-box button[data-v-165ac523]{width:100px;height:40px;border-radius:4px;cursor:pointer}.newsDetail .model .btn-box .btn1[data-v-165ac523]{background:#359dff;color:#fff;border:none;margin-right:20px}.newsDetail .model .btn-box .btn2[data-v-165ac523]{border:1px solid #dbdbdb;background:#fff;color:#666}.newsDetail .no_btn[data-v-165ac523]{-webkit-box-sizing:border-box;box-sizing:border-box;border:1px solid #bbcbdf;background:#fff;color:#666}.newsDetail .upload-demo[data-v-165ac523]{text-align:left;padding-left:160px;margin-top:5px}.newsDetail .timePick[data-v-165ac523]{margin-left:10px;width:196px}.newsDetail .up-btn[data-v-165ac523]{width:98px;border-radius:4px;background:-webkit-gradient(linear,left top,left bottom,from(#fff),to(#eaeaea));background:linear-gradient(#fff,#eaeaea);color:#666;border:1px solid #ddd}.newsDetail .sub-btn[data-v-165ac523]{width:98px;border-radius:4px!important}.newsDetail .file-box .item[data-v-165ac523]{margin-top:30px}.newsDetail .file-box .item .file-header[data-v-165ac523]{margin-left:160px;float:left;width:64px;height:64px;text-align:center;line-height:64px;background:#47c3a8;color:#fff}.newsDetail .file-box .item .file-info[data-v-165ac523]{float:left;background:#f0f0f0;width:800px;padding-left:20px;height:64px;margin-left:15px;text-align:left;color:#666;font-size:14px;position:relative}.newsDetail .file-box .item .file-info .name[data-v-165ac523]{margin-top:15px;margin-bottom:5px}.newsDetail .file-box .item .file-info .size[data-v-165ac523]{font-size:12px;color:#999}.newsDetail .file-box .item .file-info span[data-v-165ac523]{position:absolute;width:80px;top:0;height:64px;line-height:64px;cursor:pointer;text-align:center}.newsDetail .file-box .item .file-info span.btn-delete[data-v-165ac523]{right:0;color:#f12c20}.newsDetail .file-box .item .file-info span.btn-look[data-v-165ac523]{right:80px}.newsDetail .file-box .item .file-info span.btn-look a[data-v-165ac523]{color:#666;text-decoration:none}.newsDetail .content[data-v-165ac523]{position:relative;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;top:0}.newsDetail .content .wrap[data-v-165ac523]{border-top:1px solid #ddd}.newsDetail .content .wrap .content2 h4[data-v-165ac523]{text-align:left;margin-top:30px}.newsDetail .content .wrap .content2 .line-box[data-v-165ac523]{margin-top:20px;text-align:left}.newsDetail .content .wrap .content2 .line-box label[data-v-165ac523]{float:left;margin-right:4px;width:100px;text-align:right;font-size:14px}.newsDetail .content .wrap .content2 .line-box label span[data-v-165ac523]{color:red}.newsDetail .content .wrap .content2 .line-box label.w100[data-v-165ac523]{width:100px}.newsDetail .content .wrap .content2 .line-box .tool_ipt[data-v-165ac523]{float:left;width:345px}.newsDetail .content .wrap .content2 .line-box1[data-v-165ac523]{line-height:34px;height:34px}.newsDetail .content .wrap .content2 .line-box3[data-v-165ac523]{height:auto}.newsDetail .content .wrap .content2 .editor[data-v-165ac523]{float:left;width:850px}.newsDetail .content .wrap .content2 .bb-box[data-v-165ac523]{margin-top:10px;padding-left:160px;text-align:left}.newsDetail .content .wrap .content2 .bb-box button[data-v-165ac523]{cursor:pointer;border:none;background:#359dff;color:#fff;padding:8px 20px;border-radius:5px}",""])},a3bf:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"newsDetail"},[i("div",{staticClass:"contents"},[i("div",{staticClass:"content"},[i("div",{staticClass:"wrap"},[i("div",{staticClass:"content2"},[i("div",{staticClass:"h10"}),i("div",{staticClass:"line-box line-box1 clearfix"},[e._m(0),i("el-input",{staticClass:"tool_ipt",attrs:{disabled:e.forbidden,maxlength:"50",placeholder:"请输入新闻标题"},model:{value:e.newsTitle,callback:function(t){e.newsTitle=t},expression:"newsTitle"}}),e._m(1),i("el-select",{staticClass:"tool_ipt",attrs:{disabled:e.forbidden,placeholder:"请输入新闻类型"},model:{value:e.newsType,callback:function(t){e.newsType=t},expression:"newsType"}},e._l(e.newsTypeList,(function(e){return i("el-option",{key:e.newsTypeId,attrs:{label:e.typeName,value:e.newsTypeId}})})))],1),i("div",{staticClass:"line-box line-box1 clearfix"},[e._m(2),i("el-input",{staticClass:"tool_ipt",attrs:{disabled:e.forbidden,maxlength:"20",placeholder:"请输入作者"},model:{value:e.newsAuthor,callback:function(t){e.newsAuthor=t},expression:"newsAuthor"}}),e._m(3),i("el-select",{staticClass:"tool_ipt",attrs:{disabled:e.forbidden,placeholder:"请选择"},model:{value:e.newsRecommend,callback:function(t){e.newsRecommend=t},expression:"newsRecommend"}},e._l(e.recommendType,(function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})))],1),i("div",{staticClass:"line-box line-box1 clearfix"},[e._m(4),i("el-select",{staticClass:"tool_ipt",attrs:{disabled:e.forbidden,placeholder:"请选择"},model:{value:e.newsStatus,callback:function(t){e.newsStatus=t},expression:"newsStatus"}},e._l(e.newsStatusList,(function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))),i("label",{attrs:{for:""}},[e._v("来源：")]),i("el-input",{staticClass:"tool_ipt",attrs:{disabled:e.forbidden,placeholder:"请输入来源"},model:{value:e.newsSource,callback:function(t){e.newsSource=t},expression:"newsSource"}})],1),i("div",{staticClass:"line-box line-box1 clearfix"},[e._m(5),i("el-radio",{staticClass:"h34 w100",attrs:{disabled:e.forbidden,label:"1"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("实时发布")]),i("el-radio",{staticClass:"h34",attrs:{disabled:e.forbidden,label:"2"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("定时发布\n                            "),i("el-date-picker",{staticClass:"timePick h34",attrs:{disabled:e.forbidden||1==e.radio,type:"datetime","value-format":"timestamp",placeholder:"选择日期和时间"},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}})],1)],1),i("div",{staticClass:"line-box line-box2 clearfix"},[e._m(6),i("vue-ueditor-wrap",{staticClass:"ueditor1",attrs:{config:e.myConfig,destroy:!1},on:{ready:e.ready},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1),i("div",{staticClass:"file-box"},e._l(e.uploadList,(function(t,a){return i("div",{key:t.w,staticClass:"item clearfix"},[i("div",{staticClass:"file-header"},[e._v("\n                            "+e._s(t.name.replace(/(.+\.)([a-zA-Z]+)$/,"$2"))+"\n                            ")]),i("div",{staticClass:"file-info"},[i("p",{staticClass:"name"},[e._v(e._s(t.name))]),i("p",{staticClass:"size"},[e._v(e._s(Math.ceil(t.size/1024))+"K")]),-1!==t.response.data.indexOf(".doc")||-1!==t.response.data.indexOf(".xls")?i("span",{staticClass:"btn-look"},[i("a",{attrs:{target:"_blank",href:"https://view.officeapps.live.com/op/view.aspx?src="+t.response.data}},[e._v("查看")])]):i("span",{staticClass:"btn-look"},[i("a",{attrs:{target:"_blank",href:t.response.data}},[e._v("查看")])]),i("span",{staticClass:"btn-delete",on:{click:function(t){e.deleteFile(a)}}},[e._v("删除")])])])})))])])])]),i("bread-foot",{attrs:{breadArr:e.breadArr,icons:"icon-business-normal"}},[e.forbidden?i("el-button",{staticClass:"notice-btn",attrs:{icon:"el-icon-circle-check-outline myIcon",type:"primary"},on:{click:function(t){e.audit(1)}}},[e._v("同意发布")]):e._e(),e.forbidden?i("el-button",{staticClass:"notice-btn refuse",attrs:{icon:"el-icon-remove-outline myIcon"},on:{click:function(t){e.audit(-1)}}},[e._v("拒绝发布")]):e._e(),e.forbidden?e._e():i("el-button",{attrs:{type:"primary"},on:{click:e.submitNotice}},[i("img",{attrs:{src:a("0c37"),alt:""}}),i("span",[e._v("提交")])]),i("button",{staticClass:"back_btn",on:{click:e.goBack}},[e._v("返回")])],1)],1)},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{attrs:{for:""}},[a("span",[e._v("* ")]),e._v("新闻标题：")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{attrs:{for:""}},[a("span",[e._v("* ")]),e._v("新闻类型：")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{attrs:{for:""}},[a("span",[e._v("* ")]),e._v("作者：")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{attrs:{for:""}},[a("span",[e._v("* ")]),e._v("是否推荐：")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{attrs:{for:""}},[a("span",[e._v("* ")]),e._v("状态：")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{attrs:{for:""}},[a("span",[e._v("* ")]),e._v("发布时间：")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{attrs:{for:""}},[a("span",[e._v("* ")]),e._v("新闻内容：\n                        ")])}],o=(a("f548"),a("b712")),l=a("5ea5"),s=a("9dac"),r=a("f8ca"),c=a.n(r),d=a("d546"),p=a("714b"),u={name:"newsDetail",props:{},data:function(){return{breadArr:[{title:"业务操作",path:""},{title:"新闻编辑",path:""}],remark:"",showAlert:!1,myConfig:{serverUrl:window.uploadURL+"attachment/file/upload",UEDITOR_HOME_URL:"/UEditor/",autoHeightEnabled:!1,initialFrameHeight:240,initialFrameWidth:"100%",enableAutoSave:!1,imageActionName:"uploadimage",imageFieldName:"file",imageAllowFiles:[".png",".jpg",".jpeg"],imageUrlPrefix:"",imageMaxSize:1024e3,videoActionName:"uploadvideo",videoFieldName:"file",videoUrlPrefix:"",videoMaxSize:512e4,videoAllowFiles:[".mp4",".avi","ogg","rmvb","rm","wav"],fileActionName:"uploadfile",fileFieldName:"file",fileUrlPrefix:"",fileMaxSize:512e4,fileAllowFiles:[".png",".jpg",".jpeg",".gif",".bmp",".flv",".swf",".mkv",".avi",".rm",".rmvb",".mpeg",".mpg",".ogg",".ogv",".mov",".wmv",".mp4",".webm",".mp3",".wav",".mid",".rar",".zip",".tar",".gz",".7z",".bz2",".cab",".iso",".doc",".docx",".xls",".xlsx",".ppt",".pptx",".pdf",".txt",".md",".xml"]},content:"",newsStatus:0,newsStatusList:[{value:1,label:"禁用"},{value:0,label:"启用"}],newsRecommend:0,recommendType:[{value:0,label:"否"},{value:1,label:"是"}],uploadList:[],value1:"",radio:"1",options:[],value5:[],target1:"",target2:"",fileList:[],newsTitle:"",newsType:"",newsTypeList:[],newsAuthor:"",newsSource:"",input:"",value:"",oldOptions:[],createUser:"",forbidden:!1,uploadURL:window.uploadURL}},created:function(){this.getNewsTypeList(),this.forbidden="2"===this.$route.query.type,this.$route.query.id&&this.query()},computed:{},components:{BreadFoot:o["a"],Modal:p["a"],VueUeditorWrap:c.a,Sidebar:l["a"],ToolBar:d["a"],Upload:s["a"]},watch:{},methods:{getNewsTypeList:function(){var e=this;this.$post("external/news/type/list",{}).then((function(t){200===t.status&&(e.newsTypeList=t.data||[])}))},closeAlert:function(){this.showAlert=!1},audit:function(e){var t=this;this.$post("external/news/auditnews",{data:{newsId:this.$route.query.id,auditStatus:e}}).then((function(e){200===e.status?t.$toast({msg:"审核成功",callback:function(){t.$router.push("/newsManage")}}):t.alert(e.message,"提示")})).catch((function(e){console.log(e)}))},ready:function(e){this.forbidden&&e.setDisabled()},submitNotice:function(){var e=this;if(this.newsTitle)if(this.newsType)if(this.newsAuthor)if("2"!==this.radio||this.value1){var t=this.content.replace(/<[;:/\w\n\d\s"=-]+>/g,"");if(t)if(t.length>1e4)this.$alert("通知内容过长","提示");else{var a={data:{typeId:this.newsType,title:this.newsTitle,author:this.newsAuthor,status:this.newsStatus,source:this.newsSource,isRecommend:this.newsRecommend,context:this.content}};"1"===this.radio?a.data.publishType=1:(a.data.publishType=2,a.data.publishTime=this.value1),this.$route.query.id?(a.data.newsId=this.$route.query.id,this.$post("external/news/edit",a).then((function(t){200===t.status?e.$toast({msg:"提交成功",callback:function(){e.$router.push("/newsManage")}}):console.log(t.message)})).catch((function(e){console.log(e)}))):this.$post("external/news/add",a).then((function(t){200===t.status?e.$toast({msg:"提交成功",callback:function(){e.$router.push("/newsManage")}}):console.log(t.message)})).catch((function(e){console.log(e)}))}else this.$alert("请填写通知内容","提示")}else this.$alert("请选择发布时间","提示");else this.$alert("请填写作者！","提示");else this.$alert("请选择新闻类型！","提示");else this.$alert("请填写新闻标题！","提示")},goBack:function(){var e=this;this.forbidden?this.$router.push("/newsManage"):this.$myAlert({title:"提示",msg:"新闻内容尚未保存,是否继续？"}).then((function(){e.$router.push("/newsManage")})).catch((function(){console.log("取消")}))},deleteFile:function(e){this.uploadList.splice(e,1)},query:function(){var e=this;this.$post("external/news/detail",{data:{newsId:this.$route.query.id}}).then((function(t){200===t.status?(e.newsTitle=t.data.title,e.newsAuthor=t.data.author,e.newsType=t.data.typeId,e.newsRecommend=t.data.isRecommend,e.newsStatus=t.data.status,e.newsSource=t.data.source,e.content=t.data.context,e.radio=t.data.publishType+"",t.data.publishTime&&(e.value1=new Date(t.data.publishTime).getTime())):console.log(t.message)})).catch((function(e){console.log(e)}))}},beforeCreate:function(){},mounted:function(){}},f=u,b=(a("40c8"),a("f16e"),a("4023")),w=Object(b["a"])(f,i,n,!1,null,"165ac523",null);t["default"]=w.exports},b294:function(e,t,a){var i=a("7374");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("85cb").default;n("614a1563",i,!0,{sourceMap:!1,shadowMode:!1})},ea83:function(e,t,a){var i=a("73e1");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("85cb").default;n("e33f39e2",i,!0,{sourceMap:!1,shadowMode:!1})},f16e:function(e,t,a){"use strict";var i=a("b294"),n=a.n(i);n.a}}]);